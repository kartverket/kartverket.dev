import Box from '@mui/material/Box';
import TextField from '@mui/material/TextField';
import { formatDate } from 'date-fns';

interface OldLastEditedByProps {
  draftChangedBy: string;
  setDraftChangedBy: React.Dispatch<React.SetStateAction<string>>;
  hasChanges: boolean;
  changedAt?: Date;
  isAccepted?: boolean;
}

/**
 * @deprecated Fjernes med isEntraIDForStatusEnabled feature flag
 */
export const OldLastEditedBy = ({
  draftChangedBy,
  setDraftChangedBy,
  hasChanges,
  changedAt,
  isAccepted,
}: OldLastEditedByProps) => {
  return (
    <section>
      <TextField
        label="Endret av"
        value={draftChangedBy}
        onChange={e => {
          setDraftChangedBy(e.target.value);
        }}
        fullWidth
        required={isAccepted}
      />
      {!hasChanges && changedAt && (
        <Box sx={{ mt: 1 }}>
          Sist endret: {formatDate(changedAt, 'dd.MM.yyyy')}
        </Box>
      )}
    </section>
  );
};
